<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Phase 10 â€“ Autistic Master (Online)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="wrap">
  <div class="card">
    <header>
      <div>
        <h1>Phase 10 â€“ Autistic Master</h1>
        <small class="muted">Online Rooms â€¢ KI-Avatare â€¢ Chat</small>
      </div>
      <div class="row">
        <span id="statusTag" class="tag">ðŸ”´ Nicht verbunden</span>
        <span class="tag">Raum: <b id="roomTag">â€”</b></span>
        <span class="tag">Du: <b id="selfNameTag">â€”</b></span>
        <button id="btnReconnect" class="ghost" title="Neu verbinden">ðŸ”„</button>
      </div>
    </header>

    <!-- ============ STARTSCREEN ============ -->
    <section id="screenStart" class="content">
      <div class="panel">
        <div class="kicker">Willkommen</div>

        <div class="row" style="align-items:flex-end;gap:12px">
          <div style="flex:1">
            <label class="kicker">Dein Name</label>
            <input id="startName" placeholder="Name" />
          </div>
          <div style="width:80px;text-align:center">
            <label class="kicker">Avatar</label>
            <div id="avatarSelected" class="avatarPreview">ðŸ˜„</div>
          </div>
        </div>

        <!-- Avatar-Auswahl -->
        <div id="avatarGrid" class="avatarGrid" style="margin-top:8px"></div>
      </div>

      <!-- KI-Avatar Generator -->
      <div class="panel" style="margin-top:12px">
        <div class="kicker">Eigenen KI-Avatar generieren</div>
        <input id="avatarPrompt" placeholder="z. B. 'cute neon fox wizard, glowing eyes'">
        <button id="btnGenAvatar" class="primary" style="margin-top:6px">
          KI-Avatar generieren
        </button>
        <div id="avatarGenStatus" class="muted" style="margin-top:4px"></div>
      </div>

      <div class="panel" style="margin-top:12px">
        <button id="btnCreateRoom" class="primary stretch">Ich hoste (neuen Raum erstellen)</button>

        <div class="row" style="margin-top:8px;align-items:center">
          <div style="flex:1">
            <label class="kicker">Raumcode</label>
            <input id="joinCode" placeholder="z.B. 48291" />
          </div>
          <button id="btnJoinRoom" class="stretch">Beitreten</button>
        </div>

        <div id="startError" class="errorText"></div>
      </div>
    </section>

    <!-- ============ LOBBY ============ -->
    <section id="screenLobby" class="content hidden">
      <div class="panel">
        <div class="row" style="justify-content:space-between">
          <div>
            <div class="kicker">Lobby</div>
            <div>Raumcode: <b id="lobbyRoomCode">â€”</b></div>
            <div id="lobbyRoleHint" class="muted"></div>
          </div>
          <button id="btnLeaveLobby" class="ghost">Lobby verlassen</button>
        </div>
      </div>

      <div class="panel" style="margin-top:12px">
        <div class="kicker">Spieler</div>
        <div id="lobbyPlayers" class="roster" style="margin-top:8px"></div>
      </div>

      <div class="panel" style="margin-top:12px">
        <button id="btnLobbyStart" class="primary stretch">Spiel starten</button>
        <div class="muted" style="margin-top:4px">Nur Host kann starten.</div>
      </div>
    </section>

    <!-- ============ SPIEL ============ -->
    <section id="screenGame" class="content hidden">
      <div class="two">

        <!-- Phase + Punkte -->
        <div class="panel">

          <div class="kicker">Deine Phase</div>

          <div class="row" style="gap:16px;align-items:flex-end">
            <div class="num" id="num">1</div>
            <div>
              <div id="title" style="font-size:18px;font-weight:700">Phase 1</div>
              <div id="rule" class="muted">â€”</div>
            </div>
          </div>

          <ul id="examples" class="exampleList"></ul>

          <div class="bar"><div id="barfill"></div></div>
          <div id="hint" class="muted small">1 / 10</div>

          <div class="row" style="margin-top:10px">
            <button id="btnPrev">â—€ ZurÃ¼ck</button>
            <button id="btnNext" class="primary">Weiter â–¶</button>
            <button id="btnReset">Reset</button>
          </div>

          <details style="margin-top:10px">
            <summary>Schnellsprung</summary>
            <div id="jump" class="jump"></div>
          </details>

          <button id="btnFinish" class="primary stretch" style="margin-top:12px">Phase beendet!</button>

          <!-- Wertung -->
          <div id="scorePanel" class="panel inset hidden" style="margin-top:14px">
            <div class="kicker">Wertung</div>
            <div id="finisherInfo" class="muted small"></div>

            <div id="scoreInputs" class="row" style="margin-top:8px">
              <div class="scoreCol">
                <label>Karten 0â€“9</label>
                <input id="low" type="number" min="0" value="0">
              </div>
              <div class="scoreCol">
                <label>Karten 10â€“12</label>
                <input id="high" type="number" min="0" value="0">
              </div>
              <div class="scoreCol">
                <label>Joker</label>
                <input id="joker" type="number" min="0" value="0">
              </div>
              <div class="scoreCol">
                <label>Punkte</label>
                <input id="outPoints" readonly value="0">
              </div>
            </div>

            <button id="submitScore" class="primary" style="margin-top:10px">Weiter gehtâ€™s</button>
            <div id="scoreStatus" class="muted small"></div>
          </div>
        </div>

        <!-- Spieler + Chat -->
        <div>

          <div class="panel">
            <div class="kicker">SpielerÃ¼bersicht</div>
            <div id="playerList" class="roster" style="margin-top:8px"></div>
          </div>

          <div class="panel" style="margin-top:12px">
            <div class="kicker">Chat</div>
            <div id="chatBox" class="chatBox"></div>
            <div class="row" style="margin-top:8px">
              <input id="chatInput" placeholder="Nachrichtâ€¦">
              <button id="chatSend" class="primary">Senden</button>
            </div>
          </div>

        </div>

      </div>
    </section>

  </div>
</div>

<script src="client.js"></script>
</body>
</html>
