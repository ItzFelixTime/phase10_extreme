<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Phase 10 â€“ Autistic Master (Online)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="wrap">
  <div class="card">
    <header>
      <div>
        <h1>Phase 10 â€“ Autistic Master</h1>
        <small class="muted">Online Rooms â€¢ Host mit Code â€¢ Chat</small>
      </div>
      <div class="row">
        <span id="statusTag" class="tag">ðŸ”´ Nicht verbunden</span>
        <span class="tag">Raum: <b id="roomTag">â€”</b></span>
        <span class="tag">Du: <b id="selfNameTag">â€”</b></span>
        <button id="btnReconnect" class="ghost" title="Neu verbinden">ðŸ”„</button>
      </div>
    </header>

    <!-- ============ STARTSCREEN ============ -->
    <section id="screenStart" class="content">
      <div class="panel">
        <div class="kicker">Willkommen</div>
        <p class="muted">WÃ¤hle einen Namen & Avatar, dann erstelle einen Raum oder tritt einem Raum bei.</p>

        <div class="row" style="align-items:flex-end;gap:12px">
          <div style="flex:1">
            <label class="kicker">Dein Name</label>
            <input id="startName" placeholder="Name" />
          </div>
          <div style="width:80px;text-align:center">
            <label class="kicker">Avatar</label>
            <div id="avatarSelected" style="font-size:32px;line-height:1;margin-top:4px">ðŸ˜„</div>
          </div>
        </div>

        <div id="avatarGrid" class="avatarGrid" style="margin-top:8px"></div>
      </div>

      <div class="panel" style="margin-top:12px">
        <div class="row">
          <button id="btnCreateRoom" class="primary stretch">Ich hoste (neuen Raum erstellen)</button>
        </div>
        <div class="row" style="margin-top:8px;align-items:center">
          <div style="flex:1">
            <label class="kicker">Raumcode</label>
            <input id="joinCode" placeholder="z.B. 48291" />
          </div>
          <button id="btnJoinRoom" class="stretch">Raum beitreten</button>
        </div>
        <div id="startError" class="errorText"></div>
      </div>
    </section>

    <!-- ============ LOBBY ============ -->
    <section id="screenLobby" class="content hidden">
      <div class="panel">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div>
            <div class="kicker">Lobby</div>
            <div>Raumcode: <b id="lobbyRoomCode">â€”</b></div>
            <div id="lobbyRoleHint" class="muted"></div>
          </div>
          <button id="btnLeaveLobby" class="ghost">Lobby verlassen</button>
        </div>
      </div>

      <div class="panel" style="margin-top:12px">
        <div class="kicker">Spieler im Raum</div>
        <div id="lobbyPlayers" class="roster" style="margin-top:8px"></div>
      </div>

      <div class="panel" style="margin-top:12px">
        <div class="row">
          <button id="btnLobbyStart" class="primary stretch">Spiel starten</button>
        </div>
        <div id="lobbyInfo" class="muted" style="margin-top:4px">
          Nur der Host kann das Spiel starten.
        </div>
      </div>
    </section>

    <!-- ============ SPIEL ============ -->
    <section id="screenGame" class="content hidden">
      <div class="two">
        <!-- Linke Seite: Phase & Scoring -->
        <div class="panel">
          <div class="kicker">Deine aktuelle Phase</div>
          <div class="row" style="align-items:flex-end;gap:16px">
            <div class="num" id="num">1</div>
            <div>
              <div id="title" style="font-weight:700;font-size:18px">Phase 1</div>
              <div id="rule" class="muted">Zwei Paare + 1 Drilling.</div>
            </div>
          </div>

          <ul id="examples" style="margin:8px 0 0 18px;color:#cfcfcf"></ul>

          <div class="bar" style="margin-top:10px">
            <div id="barfill"></div>
          </div>
          <div id="hint" class="muted" style="margin-top:6px;font-size:12px">1 / 10</div>

          <div class="row" style="margin-top:10px">
            <button id="btnPrev">â—€ï¸Ž ZurÃ¼ck</button>
            <button id="btnNext" class="primary">NÃ¤chste Phase â–¶ï¸Ž</button>
            <button id="btnReset">ZurÃ¼ck zu 1</button>
          </div>

          <details style="margin-top:8px">
            <summary>Schnellsprung</summary>
            <div id="jump" class="jump"></div>
          </details>

          <div class="row" style="margin-top:14px">
            <button id="btnFinish" class="primary stretch">Phase beendet!</button>
          </div>

          <!-- Wertung -->
          <div id="scorePanel" class="panel inset hidden" style="margin-top:14px">
            <div class="kicker">Wertung fÃ¼r diese Runde</div>
            <div id="finisherInfo" class="muted" style="margin-bottom:6px">â€“</div>

            <div id="scoreInputs" class="row">
              <div class="scoreCol">
                <label class="kicker">Karten 0â€“9</label>
                <input id="low" type="number" min="0" value="0">
              </div>
              <div class="scoreCol">
                <label class="kicker">Karten 10â€“12</label>
                <input id="high" type="number" min="0" value="0">
              </div>
              <div class="scoreCol">
                <label class="kicker">Joker</label>
                <input id="joker" type="number" min="0" value="0">
              </div>
              <div class="scoreCol">
                <label class="kicker">Deine Punkte</label>
                <input id="outPoints" type="number" value="0" readonly>
              </div>
            </div>

            <div class="row" style="margin-top:10px">
              <button id="submitScore" class="primary">Weiter gehtâ€™s</button>
              <span id="scoreStatus" class="muted"></span>
            </div>
          </div>
        </div>

        <!-- Rechte Seite: Spieler & Chat -->
        <div>
          <div class="panel">
            <div class="kicker">Spieler & Fortschritt</div>
            <div id="playerList" class="roster" style="margin-top:8px"></div>
          </div>

          <div class="panel" style="margin-top:14px">
            <div class="kicker">Chat</div>
            <div id="chatBox" class="chatBox"></div>
            <div class="row" style="margin-top:10px">
              <input id="chatInput" placeholder="Nachricht eingebenâ€¦" />
              <button id="chatSend" class="primary">Senden</button>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div>
</div>

<script src="client.js"></script>
</body>
</html>
